<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Avios AI | Intelligent AI Solutions</title>
  <meta name="description" content="Avios AI delivers production-ready automation, NLP copilots and multimodal systems that reduce manual work and deliver measurable impact." />
  <meta name="author" content="Vineeth Reddy" />

  <!-- Open Graph -->
  <meta property="og:title" content="Avios AI | Intelligent AI Solutions" />
  <meta property="og:description" content="Production-ready AI that delivers measurable outcomes — automation, NLP and multimodal intelligence." />
  <meta property="og:image" content="assets/hero-image.png" />
  <meta property="twitter:card" content="summary_large_image" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />

  <!-- Fonts & Tailwind -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root {
      --bg-900: #07121a;
      --panel: rgba(255,255,255,0.03);
      --muted: #9fb4bf;
      --accent1: #34d1f0;
      --accent2: #1fb7ff;
      --card-bg: rgba(7,18,26,0.6);
      --glass-border: 1px solid rgba(255,255,255,0.03);
    }

    html,body{height:100%}
    body {
      margin:0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#07121a 0%, #05121a 100%);
      color: #e6f0f4;
      -webkit-font-smoothing:antialiased;
    }

    /* Header */
    .site-header {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(8px);
      background: linear-gradient(180deg, rgba(2,8,12,0.75), rgba(2,8,12,0.55));
      border-bottom: 1px solid rgba(255,255,255,0.02);
    }
    .site-header .container { display:flex; align-items:center; justify-content:space-between; gap:16px; padding:18px 22px; max-width:1200px; margin:0 auto; }

    /* Hero */
    .hero { position: relative; overflow: hidden; min-height: 72vh; display:flex; align-items:center; }
    .hero-inner { position: relative; z-index: 2; max-width:1200px; margin:0 auto; padding:48px 22px; display:grid; grid-template-columns: 1fr 520px; gap:28px; align-items:center; }
    .hero-left h1 { font-size: clamp(2rem, 6vw, 4.75rem); line-height: 0.95; font-weight: 800; margin:0 0 18px; color: #ffffff; }
    .hero-left p { color: var(--muted); font-size:1rem; margin-bottom:20px; max-width:720px; }
    .hero-cta { display:flex; gap:12px; }
    .btn-primary { padding:12px 20px; border-radius:12px; background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#052128; font-weight:800; box-shadow:0 10px 30px rgba(33,150,243,0.08); border:none; cursor:pointer; }
    .btn-ghost { padding:12px 20px; border-radius:12px; background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.04); cursor:pointer; }

    /* Hero visual card */
    .hero-card { border-radius:18px; overflow:hidden; background: linear-gradient(180deg, rgba(10,28,36,0.35), rgba(6,20,28,0.25)); box-shadow:0 18px 45px rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; padding:22px; height:420px; }
    .hero-card img { width:100%; height:100%; object-fit:cover; border-radius:12px; display:block; }

    /* world/content sections */
    .site-section { max-width:1200px; margin:0 auto; padding:48px 22px; }
    .cards { display:grid; grid-template-columns: repeat(3, 1fr); gap:22px; margin-top:18px; }
    .card { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:20px; border-radius:14px; border:var(--glass-border); }

    /* Testimonials / Swiper */
    .swiper { width:100%; overflow:hidden; }
    .testimonial-card { background: rgba(0,0,0,0.18); border-radius:14px; padding:26px; }

    /* FAQ */
    .faq-item { border-bottom: 1px solid rgba(255,255,255,0.03); padding:18px 0; cursor:pointer; display:flex; justify-content:space-between; align-items:center; gap:14px; }
    .faq-q { font-weight:700; color:#e8f6fb; }
    .faq-a { color:var(--muted); display:none; padding-top:12px; }

    /* Contact */
    .contact-panel { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:26px; border-radius:14px; border:var(--glass-border); max-width:900px; margin: 0 auto; box-shadow:0 10px 30px rgba(0,0,0,0.6); }
    .form-row { display:flex; gap:12px; }
    .input, textarea { width:100%; background:transparent; border:1px solid rgba(255,255,255,0.03); padding:12px 14px; border-radius:10px; color: #eaf6fb; }
    .textarea { min-height:140px; resize:vertical; }

    /* small fallback panel style used by script */
    #fallback-panel-min { max-width:900px; margin:14px auto 0 auto; border-radius:12px; padding:16px; background:linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.03)); border:var(--glass-border); color:var(--muted); }

    /* neural canvas */
    #nn-canvas { position:absolute; inset:0; width:100%; height:100%; z-index:1; pointer-events:none; mix-blend-mode:screen; opacity:0.95; }
    .hero-inner > * { position:relative; z-index:2; } /* ensure hero content above canvas */

    /* Responsive */
    @media (max-width: 960px) {
      .hero-inner { grid-template-columns: 1fr; gap:20px; padding-top:36px; padding-bottom:36px; }
      .hero-card { height:320px; }
      .cards { grid-template-columns: 1fr; }
    }
    @media (max-width:420px){
      .hero-left h1 { font-size: clamp(1.6rem, 8vw, 2.6rem); line-height:1.05; }
      .hero-card { height:220px; }
    }

    /* small helpers */
    .center { text-align:center; }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="container">
      <div style="display:flex;align-items:center;gap:12px;">
        <div style="width:50px;height:50px;border-radius:12px;background:linear-gradient(90deg,#1fb7ff,#34d1f0);display:flex;align-items:center;justify-content:center;font-weight:800;color:#041b22;">AI</div>
        <div>
          <div style="font-weight:800">Avios AI</div>
          <div style="font-size:12px;color:var(--muted)">Production AI, simply delivered</div>
        </div>
      </div>

      <nav style="display:flex;gap:18px;align-items:center;">
        <a href="#about" class="text-sm" style="color:var(--muted)">About</a>
        <a href="#services" class="text-sm" style="color:var(--muted)">Services</a>
        <a href="#testimonials" class="text-sm" style="color:var(--muted)">Testimonials</a>
        <a href="#faq" class="text-sm" style="color:var(--muted)">FAQ</a>
        <a href="#contact" class="px-4 py-2 rounded-lg" style="background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#052128; font-weight:700;">Contact</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" aria-label="Hero">
    <div class="hero-inner">
      <div class="hero-left">
        <div style="color:var(--muted); font-weight:600; margin-bottom:10px;">Practical · Production · Measurable</div>
        <h1>AI that automates work, accelerates teams, and unlocks growth.</h1>
        <p>We build production-ready automation, NLP copilots and multimodal systems that reduce manual work and deliver measurable impact — start with a focused PoC.</p>
        <div class="hero-cta">
          <a href="#contact" class="btn-primary">Request consult</a>
          <a href="#case-studies" class="btn-ghost">View case studies</a>
        </div>
      </div>

      <div class="hero-card">
        <!-- hero visual image (ensure assets/hero-image.png exists) -->
        <img src="assets/hero-image.png" alt="Avios AI futuristic hero visual">
      </div>
    </div>
    <!-- Canvas will be inserted by script (neural network visuals) -->
  </section>

  <!-- ABOUT -->
  <section id="about" class="site-section">
    <h2 class="center" style="font-size:1.75rem;margin-bottom:18px;">About Avios AI</h2>
    <div class="cards" style="grid-template-columns: 2fr 1fr;">
      <div class="card">
        <h3 style="margin:0 0 8px; font-size:1.125rem;">About Avios AI</h3>
        <p style="color:var(--muted); margin:0 0 12px;">We help teams replace manual work with reliable AI systems: practical automation, domain-aware assistants and multimodal tools that deliver measurable ROI — not demos.</p>
        <h4 style="margin-top:12px; margin-bottom:8px;">How we work</h4>
        <ul style="color:var(--muted); margin:0; padding-left:18px; line-height:1.6;">
          <li><strong>Discovery:</strong> define a measurable metric</li>
          <li><strong>Prototype:</strong> focused PoC with clear outcomes</li>
          <li><strong>Ship:</strong> production rollout, monitoring & updates</li>
        </ul>
      </div>

      <div class="card">
        <h3 style="margin:0 0 8px; font-size:1.125rem;">Why Avios</h3>
        <ul style="color:var(--muted); margin:0; padding-left:18px; line-height:1.6;">
          <li>Business-first: measurable KPIs</li>
          <li>Production-ready: reliable & monitored systems</li>
          <li>Privacy-aware: secure integrations</li>
        </ul>
        <div style="margin-top:18px;">
          <!-- removed 'let's talk' button as requested earlier -->
        </div>
      </div>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services" class="site-section">
    <h2 class="center" style="font-size:1.75rem;margin-bottom:18px;">Services</h2>
    <div class="cards" style="grid-template-columns: repeat(3, 1fr);">
      <div class="card">
        <h4 style="margin-bottom:8px;">AI Automation</h4>
        <p style="color:var(--muted)">Automate workflows, document processing and reporting with auditable pipelines.</p>
      </div>
      <div class="card">
        <h4 style="margin-bottom:8px;">NLP Copilots</h4>
        <p style="color:var(--muted)">Assistants for support, summarization, and knowledge work tailored to your data.</p>
      </div>
      <div class="card">
        <h4 style="margin-bottom:8px;">Multimodal Systems</h4>
        <p style="color:var(--muted)">Combine text, images and audio to build smarter experiences and copilots.</p>
      </div>
    </div>
  </section>

  <!-- CASE STUDIES (anchor target) -->
  <section id="case-studies" class="site-section">
    <h2 class="center" style="font-size:1.75rem;margin-bottom:18px;">Case studies</h2>
    <div class="cards" style="grid-template-columns: repeat(3, 1fr);">
      <div class="card">
        <h4>Support Copilot — FinTech</h4>
        <p style="color:var(--muted)">35% faster triage and 30% fewer escalations.</p>
      </div>
      <div class="card">
        <h4>Reporting Automation — Logistics</h4>
        <p style="color:var(--muted)">Saved 20+ hours/week using ETL + scheduled reporting.</p>
      </div>
      <div class="card">
        <h4>Document Extraction — Enterprise</h4>
        <p style="color:var(--muted)">96% accurate extraction with human-in-loop validation.</p>
      </div>
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section id="testimonials" class="site-section">
    <h2 class="center" style="font-size:1.75rem;margin-bottom:18px;">What clients say</h2>
    <div style="max-width:900px;margin:0 auto;">
      <div class="testimonial-card">
        <p style="font-style:italic;margin:0 0 8px;">"Clear communication, fast delivery and production-grade reliability."</p>
        <div style="color:var(--muted)">— CTO, SaaS</div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="site-section">
    <h2 class="center" style="font-size:1.75rem;margin-bottom:18px;">FAQ</h2>

    <div style="max-width:900px;margin:0 auto;">
      <div class="faq-item" data-open="false">
        <div>
          <div class="faq-q">How quickly can we see results?</div>
          <div class="faq-a">Most teams see measurable uplift from a focused PoC within 1–2 weeks; scope tightly and measure one metric.</div>
        </div>
        <div style="font-weight:800;color:var(--muted)">▸</div>
      </div>

      <div class="faq-item" data-open="false">
        <div>
          <div class="faq-q">Which deployment options do you support?</div>
          <div class="faq-a">Cloud or on-premise — we provide secure connectors, private deployments and privacy-first architectures.</div>
        </div>
        <div style="font-weight:800;color:var(--muted)">▸</div>
      </div>

      <div class="faq-item" data-open="false">
        <div>
          <div class="faq-q">How do you ensure reliability?</div>
          <div class="faq-a">Monitoring, human-in-loop validation, model versioning and automated performance checks to keep production models healthy.</div>
        </div>
        <div style="font-weight:800;color:var(--muted)">▸</div>
      </div>

      <div class="faq-item" data-open="false">
        <div>
          <div class="faq-q">How do you measure success?</div>
          <div class="faq-a">We define 1–2 KPIs during discovery (time saved, error reduction, handle rate) and track them during PoC and rollout.</div>
        </div>
        <div style="font-weight:800;color:var(--muted)">▸</div>
      </div>

      <div class="faq-item" data-open="false">
        <div>
          <div class="faq-q">Do you provide support after launch?</div>
          <div class="faq-a">Yes — we provide monitoring, updates, and MLOps support options to keep models accurate and safe.</div>
        </div>
        <div style="font-weight:800;color:var(--muted)">▸</div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="site-section">
    <h2 class="center" style="font-size:1.75rem;margin-bottom:18px;">Contact</h2>

    <div class="contact-panel">
      <form id="contact-form" class="grid gap-4" autocomplete="on">
        <div class="form-row" style="flex-direction:column;">
          <label style="font-weight:700">Name</label>
          <input class="input" name="name" placeholder="Your name" required />
        </div>

        <div class="form-row" style="flex-direction:column;">
          <label style="font-weight:700">Email</label>
          <input class="input" name="email" type="email" placeholder="Your email" required />
        </div>

        <div class="form-row" style="flex-direction:column;">
          <label style="font-weight:700">Company</label>
          <input class="input" name="company" placeholder="Company (optional)" />
        </div>

        <div class="form-row" style="flex-direction:column;">
          <label style="font-weight:700">Message</label>
          <textarea class="textarea" name="message" placeholder="How can we help?" required></textarea>
        </div>

        <div style="display:flex;gap:12px;align-items:center;">
          <button id="contact-submit" type="submit" class="btn-primary">Send Message</button>
          <button type="reset" class="btn-ghost">Reset</button>
          <div id="form-status" style="color:var(--muted);margin-left:8px;"></div>
        </div>
      </form>
    </div>

    <!-- fallback panel will be inserted by script if needed -->
  </section>

  <!-- FOOTER -->
  <footer style="padding:36px 22px; text-align:center; color:var(--muted);">
    &copy; 2025 Avios AI. All rights reserved.
  </footer>

  <!-- External libs -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>

  <!-- ===============================
       Neural canvas + Contact fallback script
       (paste as one block; keeps all behavior self-contained)
       =============================== -->
  <script>
  /* ========== NEURAL NETWORK CANVAS (hero-only) ========== */
  (function(){
    const hero = document.querySelector('.hero');
    if(!hero) return;
    const canvas = document.createElement('canvas');
    canvas.id = 'nn-canvas';
    hero.insertBefore(canvas, hero.firstChild);
    const ctx = canvas.getContext('2d', { alpha: true });

    let W=0,H=0,DPR=Math.min(window.devicePixelRatio||1,2);
    const COUNT = 28;
    const nodes = [];
    const mouse = {x:-9999,y:-9999};

    function resize(){
      W = canvas.clientWidth || hero.clientWidth || window.innerWidth;
      H = canvas.clientHeight || hero.clientHeight || Math.max(320, window.innerHeight*0.45);
      canvas.width = Math.floor(W*DPR);
      canvas.height = Math.floor(H*DPR);
      canvas.style.width = W+'px';
      canvas.style.height = H+'px';
      ctx.setTransform(DPR,0,0,DPR,0,0);
    }

    function rand(a,b){return Math.random()*(b-a)+a;}

    function init(){
      nodes.length=0;
      for(let i=0;i<COUNT;i++){
        const depth = rand(0.36,1.05);
        nodes.push({
          x: rand(W*0.06, W*0.94),
          y: rand(H*0.06, H*0.94),
          vx: rand(-0.28,0.28),
          vy: rand(-0.18,0.18),
          r: rand(1.8,4.2)*depth,
          d: depth
        });
      }
    }

    function step(){
      for(const n of nodes){
        n.x += n.vx * n.d;
        n.y += n.vy * n.d;
        if(n.x < 0 || n.x > W) n.vx *= -1;
        if(n.y < 0 || n.y > H) n.vy *= -1;
      }
    }

    function draw(){
      ctx.clearRect(0,0,W,H);
      // subtle gradient
      const g = ctx.createLinearGradient(0,0,W,0);
      g.addColorStop(0,'rgba(2,8,12,0.0)');
      g.addColorStop(0.5,'rgba(6,20,28,0.06)');
      g.addColorStop(1,'rgba(2,8,12,0.0)');
      ctx.fillStyle = g;
      ctx.fillRect(0,0,W,H);

      // connections
      for(let i=0;i<nodes.length;i++){
        const a = nodes[i];
        for(let j=i+1;j<nodes.length;j++){
          const b = nodes[j];
          const dx = a.x - b.x, dy = a.y - b.y;
          const dist = Math.hypot(dx,dy);
          if(dist < 140){
            const alpha = (1 - dist/140) * 0.18 * ((a.d + b.d)/2);
            ctx.beginPath();
            ctx.moveTo(a.x + (mouse.x - W/2)*0.0006*a.d, a.y + (mouse.y - H/2)*0.0006*a.d);
            ctx.lineTo(b.x + (mouse.x - W/2)*0.00035*b.d, b.y + (mouse.y - H/2)*0.00035*b.d);
            ctx.strokeStyle = `rgba(80,180,220,${alpha})`;
            ctx.lineWidth = 1 * ((a.d + b.d)/2);
            ctx.stroke();
          }
        }
      }

      // nodes
      for(const n of nodes){
        const rad = ctx.createRadialGradient(n.x, n.y, 0, n.x, n.y, n.r*7);
        rad.addColorStop(0, `rgba(160,230,255,0.95)`);
        rad.addColorStop(0.2, `rgba(88,200,230,0.48)`);
        rad.addColorStop(0.6, `rgba(12,24,30,0.06)`);
        rad.addColorStop(1, 'rgba(0,0,0,0)');
        ctx.fillStyle = rad;
        ctx.beginPath();
        ctx.arc(n.x + (mouse.x - W/2)*0.0007*n.d, n.y + (mouse.y - H/2)*0.0007*n.d, n.r*6, 0, Math.PI*2);
        ctx.fill();

        ctx.beginPath();
        ctx.fillStyle = `rgba(200,245,255,${0.9*n.d})`;
        ctx.arc(n.x + (mouse.x - W/2)*0.0007*n.d, n.y + (mouse.y - H/2)*0.0007*n.d, n.r, 0, Math.PI*2);
        ctx.fill();
      }
    }

    let raf=null;
    function loop(){ step(); draw(); raf=requestAnimationFrame(loop); }

    resize(); init(); loop();
    window.addEventListener('resize', ()=>{ resize(); init(); });
    window.addEventListener('mousemove', e => { mouse.x=e.clientX; mouse.y=e.clientY; });
    window.addEventListener('mouseleave', ()=>{ mouse.x=-9999; mouse.y=-9999; });
  })();


  /* ========== Contact form behavior: EmailJS send + fallback ========== */
  (function(){
    const PUBLIC_KEY = "gf3Q5jLBYPf1ZOUko";
    const SERVICE_ID  = "service_4ytq1ph";
    const TEMPLATE_ID = "template_71vcpfp";
    const FALLBACK_EMAIL = "aviosplatform@gmail.com";

    // init emailjs (safe to call multiple times)
    if(window.emailjs && typeof emailjs.init === 'function'){
      try{ emailjs.init(PUBLIC_KEY); }catch(e){}
    }

    const form = document.getElementById('contact-form');
    if(!form) return;

    // create small fallback panel (hidden initially)
    let fallbackPanel = document.getElementById('fallback-panel-min');
    if(!fallbackPanel){
      fallbackPanel = document.createElement('div');
      fallbackPanel.id = 'fallback-panel-min';
      fallbackPanel.style.display = 'none';
      fallbackPanel.style.marginTop = '18px';
      fallbackPanel.style.padding = '14px';
      fallbackPanel.style.borderRadius = '12px';
      fallbackPanel.style.background = 'linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.03))';
      fallbackPanel.style.border = '1px solid rgba(255,255,255,0.03)';
      fallbackPanel.style.maxWidth = '900px';
      fallbackPanel.style.marginLeft = 'auto';
      fallbackPanel.style.marginRight = 'auto';
      fallbackPanel.innerHTML = `
        <div style="display:flex;flex-direction:column;gap:10px;color:var(--muted);">
          <div style="font-weight:700;color:#ffcf9a">Error sending — please use a fallback option.</div>
          <div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
            <div id="fallback-email-text" style="padding:10px 14px;border-radius:10px;background:rgba(255,255,255,0.02);font-weight:700">
              ${FALLBACK_EMAIL}
            </div>
            <button id="copy-email-min" style="padding:8px 10px;border-radius:8px;background:rgba(255,255,255,0.03);border:none;cursor:pointer">Copy email</button>
            <button id="open-mail-min" style="padding:8px 12px;border-radius:8px;background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;color:#052128;font-weight:700;cursor:pointer">Open mail client (prefill)</button>
          </div>
          <div style="font-size:0.95rem;color:var(--muted)"><strong>Preview (copy if needed):</strong></div>
          <pre id="fallback-message-preview-min" style="background:rgba(0,0,0,0.04);padding:10px;border-radius:8px;margin:0;color:var(--muted);white-space:pre-wrap;"></pre>
          <div style="display:flex;gap:8px;">
            <button id="copy-body-min" style="padding:8px 10px;border-radius:8px;background:rgba(255,255,255,0.03);border:none;cursor:pointer">Copy message</button>
          </div>
        </div>
      `;
      form.parentNode.insertBefore(fallbackPanel, form.nextSibling);
    }

    function getFormText(){
      const fd = new FormData(form);
      return `Name: ${fd.get('name') || ''}\nEmail: ${fd.get('email') || ''}\nCompany: ${fd.get('company') || ''}\n\nMessage:\n${fd.get('message') || ''}`;
    }

    async function copy(text, el){
      try{
        await navigator.clipboard.writeText(text);
        const orig = el.textContent;
        el.textContent = "Copied ✓";
        setTimeout(()=> el.textContent = orig, 1400);
      }catch(e){
        alert('Copy failed. Please select and copy manually.');
      }
    }

    // wire fallback buttons (attach once)
    form.addEventListener('click', () => {
      const copyEmailBtn = document.getElementById('copy-email-min');
      const openMailBtn = document.getElementById('open-mail-min');
      const copyBodyBtn = document.getElementById('copy-body-min');
      const preview = document.getElementById('fallback-message-preview-min');

      if(copyEmailBtn && !copyEmailBtn.dataset.bound){
        copyEmailBtn.dataset.bound = "1";
        copyEmailBtn.addEventListener('click', () => copy(FALLBACK_EMAIL, copyEmailBtn));
      }
      if(openMailBtn && !openMailBtn.dataset.bound){
        openMailBtn.dataset.bound = "1";
        openMailBtn.addEventListener('click', () => {
          const subj = encodeURIComponent('Website contact');
          const body = encodeURIComponent(getFormText());
          window.location.href = `mailto:${FALLBACK_EMAIL}?subject=${subj}&body=${body}`;
        });
      }
      if(copyBodyBtn && !copyBodyBtn.dataset.bound){
        copyBodyBtn.dataset.bound = "1";
        copyBodyBtn.addEventListener('click', () => copy(getFormText(), copyBodyBtn));
      }
      if(preview){
        preview.textContent = getFormText();
      }
    });

    // Submit handler: try EmailJS, else show fallback
    form.addEventListener('submit', function(ev){
      ev.preventDefault();
      const statusEl = document.getElementById('form-status');
      statusEl.textContent = "Sending...";
      const submitBtn = document.getElementById('contact-submit');
      if(submitBtn) submitBtn.disabled = true;

      // If emailjs available, attempt send
      if(window.emailjs && typeof emailjs.sendForm === 'function'){
        emailjs.sendForm(SERVICE_ID, TEMPLATE_ID, this)
          .then(() => {
            statusEl.style.color = '#a7f3d0';
            statusEl.textContent = "Message sent — we will reply within one business day.";
            form.reset();
            if(submitBtn) submitBtn.disabled = false;
          })
          .catch((err) => {
            console.warn('EmailJS error:', err);
            statusEl.style.color = '#ffcdb1';
            statusEl.textContent = "Error sending — using fallback options below.";
            fallbackPanel.style.display = 'block';
            const preview = document.getElementById('fallback-message-preview-min');
            if(preview) preview.textContent = getFormText();
            fallbackPanel.scrollIntoView({behavior:'smooth', block:'center'});
            if(submitBtn) submitBtn.disabled = false;
          });
        return;
      }

      // No emailjs -> fallback
      statusEl.style.color = '#ffcdb1';
      statusEl.textContent = "Error sending — using fallback options below.";
      fallbackPanel.style.display = 'block';
      const preview = document.getElementById('fallback-message-preview-min');
      if(preview) preview.textContent = getFormText();
      fallbackPanel.scrollIntoView({behavior:'smooth', block:'center'});
      if(submitBtn) submitBtn.disabled = false;
    });
  })();

  /* ========== FAQ toggle behavior ========== */
  (function(){
    document.querySelectorAll('.faq-item').forEach(item=>{
      item.addEventListener('click', ()=>{
        const open = item.getAttribute('data-open') === 'true';
        item.setAttribute('data-open', open ? 'false' : 'true');
        const a = item.querySelector('.faq-a');
        if(a) a.style.display = open ? 'none' : 'block';
      });
    });
  })();
  </script>
</body>
</html>
